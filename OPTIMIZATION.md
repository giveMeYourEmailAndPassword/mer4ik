# –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –º–æ–±–∏–ª—å–Ω–æ–≥–æ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞ –º–µ—Ä—á–∞

## üöÄ –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### 1. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è Canvas
- **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `pixelRatio: 2`** —Ç–æ–ª—å–∫–æ –¥–ª—è —ç–∫—Å–ø–æ—Ä—Ç–∞, –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `pixelRatio: 1`
- **–õ–∏–º–∏—Ç–∏—Ä—É–π—Ç–µ —á–∞—Å—Ç–æ—Ç—É –ø–µ—Ä–µ—Ä–∏—Å–æ–≤–∫–∏** —Å –ø–æ–º–æ—â—å—é `requestAnimationFrame`
- **–ö—ç—à–∏—Ä—É–π—Ç–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã** —à–∞–±–ª–æ–Ω–∞:
```typescript
// –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–æ–Ω–∞
background.cache();
background.listening(false);
```

### 2. –ü–∞–º—è—Ç—å –∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
- **–°–∂–∏–º–∞–π—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ**:
```typescript
const compressImage = (file: File, maxWidth = 800, quality = 0.8) => {
  return new Promise((resolve) => {
    const canvas = document.createElement('canvas');
    const ctx = canvas.getContext('2d');
    const img = new Image();

    img.onload = () => {
      const ratio = Math.min(maxWidth / img.width, maxWidth / img.height);
      canvas.width = img.width * ratio;
      canvas.height = img.height * ratio;

      ctx.drawImage(img, 0, 0, canvas.width, canvas.height);
      canvas.toBlob(resolve, 'image/jpeg', quality);
    };

    img.src = URL.createObjectURL(file);
  });
};
```

- **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Web Workers** –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- **–û—á–∏—â–∞–π—Ç–µ URL.createObjectURL** –ø–æ—Å–ª–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:
```typescript
useEffect(() => {
  return () => {
    if (imageSrc) {
      URL.revokeObjectURL(imageSrc);
    }
  };
}, [imageSrc]);
```

### 3. React –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
- **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `useMemo` –∏ `useCallback`** –¥–ª—è –¥–æ—Ä–æ–≥–æ—Å—Ç–æ—è—â–∏—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–π
- **–õ–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤**:
```typescript
const MerchEditor = lazy(() => import('./components/MerchEditor'));
```

- **–í–∏—Ä—É–∞–ª–∏–∑–∞—Ü–∏—è —Å–ø–∏—Å–∫–æ–≤** –µ—Å–ª–∏ –±—É–¥–µ—Ç –º–Ω–æ–≥–æ —à–∞–±–ª–æ–Ω–æ–≤

## üì± Mobile UX –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

### 1. –¢–∞—á-–∂–µ—Å—Ç—ã
- **–û—Ç–∫–ª—é—á–∏—Ç–µ –¥–≤–æ–π–Ω–æ–π —Ç–∞–ø –¥–ª—è –∑—É–º–∞**:
```css
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
```

- **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `touch-action: manipulation`** –¥–ª—è –ª—É—á—à–µ–≥–æ –æ—Ç–∫–ª–∏–∫–∞
- **–î–æ–±–∞–≤—å—Ç–µ —Ç–∞–∫—Ç–∏–ª—å–Ω—É—é –æ–±—Ä–∞—Ç–Ω—É—é —Å–≤—è–∑—å** —Å –ø–æ–º–æ—â—å—é Vibration API

### 2. –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö
- **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ CSS transforms** –≤–º–µ—Å—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è left/top –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–π
- **–ò–∑–±–µ–≥–∞–π—Ç–µ `box-shadow` –Ω–∞ –∞–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–∞—Ö**
- **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `will-change: transform`** –¥–ª—è –ø–ª–∞–≤–Ω—ã—Ö –∞–Ω–∏–º–∞—Ü–∏–π

### 3. –†–∞–∑–º–µ—Ä –±–∞–Ω–¥–ª–∞
- **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –∏–º–ø–æ—Ä—Ç** –¥–ª—è react-konva:
```typescript
const Stage = lazy(() => import('react-konva').then(module => ({ default: module.Stage })));
```

- **Tree-shaking** –¥–ª—è –∏–∫–æ–Ω–æ–∫ lucide-react:
```typescript
import { ArrowLeft } from 'lucide-react/dist/esm/icons/arrow-left';
```

## üéØ –ö–∞—á–µ—Å—Ç–≤–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

### 1. –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏
- **–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞** (–º–∞–∫—Å–∏–º—É–º 5MB)
- **–í–∞–ª–∏–¥–∏—Ä—É–π—Ç–µ —Ç–∏–ø—ã —Ñ–∞–π–ª–æ–≤**
- **–ü–æ–∫–∞–∑—ã–≤–∞–π—Ç–µ –ø—Ä–µ–≤—å—é** –ø–µ—Ä–µ–¥ –∑–∞–≥—Ä—É–∑–∫–æ–π

### 2. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —ç–∫—Å–ø–æ—Ä—Ç–∞
- **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤—ã—Å–æ–∫–æ–µ pixelRatio** (2-3) —Ç–æ–ª—å–∫–æ –¥–ª—è —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ —ç–∫—Å–ø–æ—Ä—Ç–∞
- **–ü—Ä–µ–¥–ª–∞–≥–∞–π—Ç–µ –≤—ã–±–æ—Ä —Ñ–æ—Ä–º–∞—Ç–∞** (PNG –¥–ª—è –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç–∏, JPEG –¥–ª—è –º–µ–Ω—å—à–µ–≥–æ —Ä–∞–∑–º–µ—Ä–∞)
- **–î–æ–±–∞–≤—å—Ç–µ –≤–æ–¥—è–Ω–æ–π –∑–Ω–∞–∫** –ø–æ –∂–µ–ª–∞–Ω–∏—é

## üîß –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

### 1. Lighthouse
- –¶–µ–ª—å: **Performance > 90**
- Mobile: **Accessibility > 95**
- PWA: **Progressive Web App > 90**

### 2. Bundle analyzer
```bash
npm run build -- --analyze
```

### 3. React DevTools Profiler
- –ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ –ø–µ—Ä–µ—Ä–∏—Å–æ–≤–∫–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- –ò—â–∏—Ç–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å –¥–æ–ª–≥–∏–º —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–æ–º

## üö® –†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### 1. Memory leaks
- –û—Ç–ø–∏—Å—ã–≤–∞–π—Ç–µ—Å—å –æ—Ç —Å–æ–±—ã—Ç–∏–π –ø—Ä–∏ unmount
- –ß–∏—Å—Ç–∏—Ç–µ —Ç–∞–π–º–µ—Ä—ã –∏ –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã
- –û—Å–≤–æ–±–æ–∂–¥–∞–π—Ç–µ —Ä–µ—Å—É—Ä—Å—ã canvas

### 2. –¢–æ—Ä–º–æ–∑–∞ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö
- –ò–∑–±–µ–≥–∞–π—Ç–µ —Å–ª–æ–∂–Ω—ã—Ö CSS —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤
- –ú–∏–Ω–∏–º–∏–∑–∏—Ä—É–π—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ DOM —É–∑–ª–æ–≤
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∞–ø–ø–∞—Ä–∞—Ç–Ω–æ–µ —É—Å–∫–æ—Ä–µ–Ω–∏–µ

### 3. –ü—Ä–æ–±–ª–µ–º—ã —Å —Ç–∞—á-—Å–æ–±—ã—Ç–∏—è–º–∏
- –ü—Ä–∞–≤–∏–ª—å–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ `touchstart`/`touchend`
- –ò–∑–±–µ–≥–∞–π—Ç–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ —Å–æ —Å–∫—Ä–æ–ª–ª–æ–º
- –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö

## üìä –ú–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è

- **First Contentful Paint (FCP)**: < 1.5s
- **Largest Contentful Paint (LCP)**: < 2.5s
- **Time to Interactive (TTI)**: < 3.8s
- **Cumulative Layout Shift (CLS)**: < 0.1

## üîÆ –ë—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

1. **PWA —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª**: –æ—Ñ—Ñ–ª–∞–π–Ω —Ä–µ–∂–∏–º, —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–∞ —ç–∫—Ä–∞–Ω
2. **WebAssembly**: –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
3. **Service Worker**: –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–æ–≤
4. **WebXR**: –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –≤ AR/VR
5. **–û–±–ª–∞—á–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ**: –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–æ–≤

---

**–°–æ–≤–µ—Ç**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ React.StrictMode –∏ TypeScript –¥–ª—è –æ—Ç–ª–æ–≤–∞ –æ—à–∏–±–æ–∫ –Ω–∞ —ç—Ç–∞–ø–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏!